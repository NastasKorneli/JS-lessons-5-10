<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Übung 38: Reichweite & Verbrauch, Teil 3</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <main>
      <div class="container py-5">
        <div class="alert alert-primary">
          <h1>Übung 38: Reichweite & Verbrauch, Teil 3</h1>
          <p>
            Überarbeiten Sie Reichweite & Verbrauch, Teil 2 (Übung 18).
            Erstellen Sie passende Funktionen, die die Benutzereingaben
            zurückgeben.
          </p>
        </div>
      </div>

      <section class="section-calculator">
        <div class="container">
          <form class="form-calculator" method="get">
            <div class="row">
              <div class="col-12 col-sm-6">
                <div class="mb-3">
                  <label for="input-strecke" class="form-label"
                    >Strecke (in km)</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    name="strecke"
                    id="input-strecke"
                    placeholder="z.B. 500"
                  />
                </div>
              </div>
              <div class="col-12 col-sm-6">
                <div class="mb-3">
                  <label for="input-benzinmenge" class="form-label"
                    >verbrauchte Benzinmenge (in Litern)</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    name="benzinmenge"
                    id="input-benzinmenge"
                    placeholder="z.B. 50"
                  />
                </div>
              </div>
            </div>
            <!-- ▲ /.row ▲ -->
            <div class="row">
              <div class="col">
                <div class="mb-3">
                  <label for="input-tankgroesse" class="form-label"
                    >Tankgröße (in Litern)</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    name="tangroesse"
                    id="input-tankgroesse"
                    placeholder="z.B. 60"
                  />
                </div>
              </div>
            </div>
            <!-- ▲ /.row ▲ -->
            <div class="row">
              <div class="col">
                <button type="submit" class="btn btn-dark button-calculate">
                  Rechnen
                </button>
              </div>
            </div>
          </form>

          <div class="alert alert-secondary my-3" id="output"></div>
          <div class="alert alert-secondary my-3" id="output2"></div>
        </div>
      </section>
    </main>
    <script>
      'use strict';

      // DOM & Variablen
      const formCalculatorEl = document.querySelector('.form-calculator');
      const outputAEl = document.querySelector('#output');
      const outputBEl = document.querySelector('#output2');

      const streckeEl = document.querySelector('input[name="strecke"]');
      const benzinMengeEl = document.querySelector('input[name="benzinmenge"]');
      const tankGroesseEl = document.querySelector('input[name="tangroesse"]');

      // Funktionen zur Berechnung
      const berechneVerbrauch = (benzinMenge, strecke) => {
        return (benzinMenge / strecke) * 100;
      };

      const berechneReichweite = (tankGroesse, verbrauch) => {
        return (tankGroesse / verbrauch) * 100;
      };

      // EventHandler
      const onSubmit = (e) => {
        e.preventDefault();

        const strecke = Number(streckeEl.value);
        const benzinMenge = Number(benzinMengeEl.value);
        const tankGroesse = Number(tankGroesseEl.value);

        // Berechnungen durchführen
        const verbrauch = berechneVerbrauch(benzinMenge, strecke);
        const reichweite = berechneReichweite(tankGroesse, verbrauch);

        // Ausgabe
        outputAEl.innerText = `Ihr durchschnittlicher Verbrauch beträgt: ${verbrauch.toFixed(
          2
        )} Liter/100km.`;
        outputBEl.innerText = `Mit einem vollen Tank können Sie etwa: ${reichweite.toFixed(
          2
        )} km fahren.`;
      };

      // Formular-Ereignislistener
      formCalculatorEl.addEventListener('submit', onSubmit);
    </script>
  </body>
</html>
