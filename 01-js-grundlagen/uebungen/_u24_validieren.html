<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Übung 24: Von guten und bösen Eingaben</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <main>
      <div class="container py-5">
        <div class="alert alert-primary">
          <h1>Übung 24: Von guten und bösen Eingaben</h1>
          <ol class="list">
            <li>
              Nehmen Sie Angaben zu Vorname, Nachname, Geschlecht und Alter
              eines Anwenders entgegen und speichern Sie diese in Variablen.
            </li>
            <li>
              Diese Eingaben sollen Sie nun folgendermaßen validieren:
              <ul class="list">
                <li>
                  Vorname und Nachname müssen zwischen 2 und 100 Zeichen lang
                  sein.
                </li>
                <li>
                  Die Eingabe für das Geschlecht muss m (male) oder ein f
                  (female) sein.
                </li>
                <li>Das Alter muss eine Zahl unter 150 sein.</li>
              </ul>
            </li>
          </ol>
        </div>
        <div class="output alert alert-secondary my-3"></div>
      </div>
    </main>
    <script>
      'use strict';

      const outputEl = document.querySelector('.output');

      const name = prompt('Bitte geben Sie Ihren Nachnamen ein!');
      const firstName = prompt('Bitte geben Sie Ihren Vornamen ein!');
      const gender = prompt('Sind Sie (f)emale oder (m)ale?');
      const age = Number(prompt('Wie alt sind Sie?'));

      let errors = [];

      if (name.length < 2 || name.length > 100) {
        errors.push('Der Nachname muss zwischen 2 und 100 Zeichen lang sein.');
      }
      if (firstName.length < 2 || firstName.length > 100) {
        errors.push('Der Vorname muss zwischen 2 und 100 Zeichen lang sein.');
      }

      if (gender !== 'm' && gender !== 'f') {
        errors.push(
          'Das Geschlecht muss entweder m (male) oder f (female) sein.'
        );
      }

      if (isNaN(age) || age < 0 || age > 150) {
        errors.push('Das Alter muss eine Zahl sein und unter 150 liegen.');
      }

      if (errors.length > 0) {
        outputEl.innerHTML =
          '<strong>Fehler:</strong><br>' + errors.join('<br>');
        outputEl.classList.add('alert-danger');
      } else {
        outputEl.innerHTML = `<strong>Erfolgreich!</strong><br>Name: ${firstName} ${name}<br>Geschlecht: ${
          gender === 'm' ? 'male' : 'female'
        }<br>Alter: ${age}`;
        outputEl.classList.add('alert-success');
      }
    </script>
  </body>
</html>
